<!DOCTYPE html><html lang="en" data-astro-cid-sckkx6r4> <head><!-- Global Metadata --><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="icon" href="/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="sitemap" href="/sitemap-index.xml"><link rel="alternate" type="application/rss+xml" title="Lucas Sobral" href="https://lucasbral.github.io/rss.xml"><meta name="generator" content="Astro v5.16.14"><!-- Font preloads --><link rel="preload" href="/fonts/atkinson-regular.woff" as="font" type="font/woff" crossorigin><link rel="preload" href="/fonts/atkinson-bold.woff" as="font" type="font/woff" crossorigin><!-- Canonical URL --><link rel="canonical" href="https://lucasbral.github.io/blog/2025-02-25/2025-02-25-aws-pipeline/"><!-- Primary Meta Tags --><title>Creating A Small Data Pipeline Using Dynamodb And Lambda Functions On Aws</title><meta name="title" content="Creating A Small Data Pipeline Using Dynamodb And Lambda Functions On Aws"><meta name="description" content="In This Project We Will Create A Small Pipeline Inside The Aws Enviroment Using The Free Tier For Practicing Aws Tools."><!-- Open Graph / Facebook --><meta property="og:type" content="website"><meta property="og:url" content="https://lucasbral.github.io/blog/2025-02-25/2025-02-25-aws-pipeline/"><meta property="og:title" content="Creating A Small Data Pipeline Using Dynamodb And Lambda Functions On Aws"><meta property="og:description" content="In This Project We Will Create A Small Pipeline Inside The Aws Enviroment Using The Free Tier For Practicing Aws Tools."><meta property="og:image" content="https://lucasbral.github.io/assets/posts/2025-02-25/aws.png"><!-- Twitter --><meta property="twitter:card" content="summary_large_image"><meta property="twitter:url" content="https://lucasbral.github.io/blog/2025-02-25/2025-02-25-aws-pipeline/"><meta property="twitter:title" content="Creating A Small Data Pipeline Using Dynamodb And Lambda Functions On Aws"><meta property="twitter:description" content="In This Project We Will Create A Small Pipeline Inside The Aws Enviroment Using The Free Tier For Practicing Aws Tools."><meta property="twitter:image" content="https://lucasbral.github.io/assets/posts/2025-02-25/aws.png"><!-- GoatCounter Analytics --><script async src="https://gc.zgo.at/count.js" data-goatcounter="https://lucasbral.goatcounter.com/count"></script><script>
			// Blocking script to prevent flash of unstyled content (FOUC)
			const theme = (() => {
				if (
					typeof localStorage !== "undefined" &&
					localStorage.getItem("theme")
				) {
					return localStorage.getItem("theme");
				}
				if (window.matchMedia("(prefers-color-scheme: dark)").matches) {
					return "dark";
				}
				return "light";
			})();

			if (theme === "dark") {
				document.documentElement.classList.add("dark");
			} else {
				document.documentElement.classList.remove("dark");
			}
			// Ensure localStorage is sync'd
			window.localStorage.setItem("theme", theme);
		</script><link rel="stylesheet" href="/_astro/_slug_.DWIzDjJY.css">
<link rel="stylesheet" href="/_astro/_slug_.dnqBqIgo.css">
<style>main[data-astro-cid-sckkx6r4].full-width{max-width:100%!important;padding:0!important}
.view-counter[data-astro-cid-e75zxctz]{color:var(--gray);font-size:.9em;display:inline-flex;align-items:center;gap:.3em}.loading[data-astro-cid-e75zxctz]{opacity:.5}.blog-page-layout{display:grid;grid-template-columns:280px 1fr 280px;gap:2rem;width:100%;max-width:1400px;margin:0 auto;padding:2rem;align-items:start}.blog-page-layout .left-sidebar{position:sticky;top:2rem;height:fit-content;border-right:1px solid var(--color-border);padding-right:1.5rem}.blog-page-layout .right-sidebar-container{position:sticky;top:2rem;height:fit-content;border-left:1px solid var(--color-border);padding-left:1.5rem}.blog-page-layout .main-content{width:100%;min-width:0}@media(max-width:1200px){.blog-page-layout{grid-template-columns:280px 1fr;max-width:1000px}.blog-page-layout .right-sidebar-container{display:none}.blog-page-layout .left-sidebar{padding-right:1.5rem}}@media(max-width:900px){.blog-page-layout{display:block;padding:1rem}.blog-page-layout .left-sidebar{position:fixed!important;top:0!important;height:100vh!important;max-height:100vh!important;z-index:1000}}.hero-image{width:100%;margin-bottom:2rem}.hero-image img{display:block;margin:0 auto;border-radius:12px;box-shadow:0 4px 6px -1px #0000001a,0 2px 4px -1px #0000000f;width:100%;height:auto;max-height:400px;object-fit:cover}.prose{width:100%;max-width:100%;margin:auto}.title{margin-bottom:2rem;text-align:center;line-height:1}.date{margin-bottom:.5em;color:var(--color-secondary);display:flex;align-items:center;justify-content:center;gap:.5rem;flex-wrap:wrap}.date-separator{color:var(--gray-light)}.last-updated-on{font-style:italic}hr{border:0;border-top:1px solid var(--color-border);margin:2rem 0}
.right-sidebar[data-astro-cid-zujyv34g]{width:100%;font-size:.9em}.sidebar-section[data-astro-cid-zujyv34g]{margin-bottom:2rem;padding-bottom:1rem;border-bottom:1px solid var(--color-border)}.sidebar-section[data-astro-cid-zujyv34g] h3[data-astro-cid-zujyv34g]{margin-bottom:1rem;font-size:1rem;text-transform:uppercase;letter-spacing:1px;color:var(--gray);font-weight:600}.recent-list[data-astro-cid-zujyv34g]{list-style:none;padding:0;margin:0}.recent-list[data-astro-cid-zujyv34g] li[data-astro-cid-zujyv34g]{margin-bottom:1rem}.recent-link[data-astro-cid-zujyv34g]{display:flex;flex-direction:column;text-decoration:none;color:var(--color-text);transition:color .2s}.recent-link[data-astro-cid-zujyv34g]:hover .recent-title[data-astro-cid-zujyv34g]{color:var(--accent)}.recent-title[data-astro-cid-zujyv34g]{font-weight:500;line-height:1.3;margin-bottom:.2rem}.recent-date[data-astro-cid-zujyv34g]{font-size:.8em;color:var(--gray)}.tag-cloud[data-astro-cid-zujyv34g]{display:flex;flex-wrap:wrap;gap:.5rem}.tag-item[data-astro-cid-zujyv34g]{background:var(--gray-light);padding:.2rem .6rem;border-radius:4px;text-decoration:none;color:var(--gray-dark);font-size:.85em;transition:all .2s}.tag-item[data-astro-cid-zujyv34g]:hover{background:var(--accent);color:#fff}
</style></head> <body data-astro-cid-sckkx6r4> <header data-astro-cid-3ef6ksr2> <nav data-astro-cid-3ef6ksr2> <button id="menu-toggle" aria-label="Toggle Menu" class="menu-toggle" data-astro-cid-3ef6ksr2> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-3ef6ksr2> <line x1="3" y1="12" x2="21" y2="12" data-astro-cid-3ef6ksr2></line> <line x1="3" y1="6" x2="21" y2="6" data-astro-cid-3ef6ksr2></line> <line x1="3" y1="18" x2="21" y2="18" data-astro-cid-3ef6ksr2></line> </svg> </button> <h2 data-astro-cid-3ef6ksr2><a href="/" data-astro-cid-3ef6ksr2>Lucas Sobral</a></h2> <div class="internal-links" data-astro-cid-3ef6ksr2> <a href="/" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> Home </a>  <a href="/about" data-astro-cid-3ef6ksr2="true" data-astro-cid-eimmu3lg> About </a>  </div> <div class="social-links" data-astro-cid-3ef6ksr2> <a href="https://github.com/lucasbral" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>GitHub</span> <svg viewBox="0 0 16 16" aria-hidden="true" width="24" height="24" fill="currentColor" data-astro-cid-3ef6ksr2> <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z" data-astro-cid-3ef6ksr2></path> </svg> </a> <a href="https://www.linkedin.com/in/lucasbral" target="_blank" data-astro-cid-3ef6ksr2> <span class="sr-only" data-astro-cid-3ef6ksr2>LinkedIn</span> <svg viewBox="0 0 24 24" aria-hidden="true" width="24" height="24" fill="currentColor" data-astro-cid-3ef6ksr2> <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z" data-astro-cid-3ef6ksr2></path> </svg> </a> <div class="search-container" data-astro-cid-otpdt6jm> <button id="search-btn" aria-label="Open search" data-astro-cid-otpdt6jm> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-otpdt6jm> <circle cx="11" cy="11" r="8" data-astro-cid-otpdt6jm></circle> <line x1="21" y1="21" x2="16.65" y2="16.65" data-astro-cid-otpdt6jm></line> </svg> </button> <div id="search-modal" class="hidden" data-astro-cid-otpdt6jm> <div class="modal-content" data-astro-cid-otpdt6jm> <div class="search-header" data-astro-cid-otpdt6jm> <input type="text" id="search-input" placeholder="Search posts..." autofocus data-astro-cid-otpdt6jm> <button id="close-search" aria-label="Close search" data-astro-cid-otpdt6jm> <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-otpdt6jm> <line x1="18" y1="6" x2="6" y2="18" data-astro-cid-otpdt6jm></line> <line x1="6" y1="6" x2="18" y2="18" data-astro-cid-otpdt6jm></line> </svg> </button> </div> <ul id="search-results" data-astro-cid-otpdt6jm></ul> </div> </div> </div>  <script lang="ts">
    document.addEventListener("DOMContentLoaded", () => {
        const searchBtn = document.getElementById("search-btn");
        const searchModal = document.getElementById("search-modal");
        const closeBtn = document.getElementById("close-search");
        const searchInput = document.getElementById("search-input");
        const searchResults = document.getElementById("search-results");

        let posts = [];

        // Fetch posts on hover or focus to preload
        const fetchPosts = async () => {
            if (posts.length > 0) return;
            try {
                const res = await fetch("/search.json");
                posts = await res.json();
            } catch (err) {
                console.error("Error fetching search index:", err);
            }
        };

        searchBtn?.addEventListener("mouseenter", fetchPosts);
        searchBtn?.addEventListener("focus", fetchPosts);

        const openSearch = async () => {
            await fetchPosts();
            searchModal?.classList.remove("hidden");
            // Force reflow
            searchModal?.offsetHeight;
            searchModal?.classList.add("visible");
            searchInput?.focus();
            document.body.style.overflow = "hidden";
        };

        const closeSearch = () => {
            searchModal?.classList.remove("visible");
            setTimeout(() => {
                searchModal?.classList.add("hidden");
            }, 200);
            document.body.style.overflow = "";
            if (searchInput instanceof HTMLInputElement) searchInput.value = "";
            if (searchResults) searchResults.innerHTML = "";
        };

        searchBtn?.addEventListener("click", openSearch);
        closeBtn?.addEventListener("click", closeSearch);

        // Close on backdrop click
        searchModal?.addEventListener("click", (e) => {
            if (e.target === searchModal) closeSearch();
        });

        // Close on Escape key
        document.addEventListener("keydown", (e) => {
            if (
                e.key === "Escape" &&
                searchModal?.classList.contains("visible")
            ) {
                closeSearch();
            }
        });

        // Search logic
        searchInput?.addEventListener("input", (e) => {
            if (!(searchInput instanceof HTMLInputElement)) return;
            const query = searchInput.value.toLowerCase();

            if (!query) {
                if (searchResults) searchResults.innerHTML = "";
                return;
            }

            const filtered = posts.filter(
                (post) =>
                    post.title.toLowerCase().includes(query) ||
                    (post.description &&
                        post.description.toLowerCase().includes(query)),
            );

            if (searchResults) {
                if (filtered.length === 0) {
                    searchResults.innerHTML =
                        '<li class="no-results">No posts found</li>';
                } else {
                    searchResults.innerHTML = filtered
                        .map(
                            (post) => `
                        <li class="search-result-item">
                            <a href="${post.slug}" class="search-result-link">
                                <span class="result-title">${post.title}</span>
                                <span class="result-desc">${post.description}</span>
                            </a>
                        </li>
                    `,
                        )
                        .join("");
                }
            }
        });
    });
</script> <button id="theme-toggle" aria-label="Toggle theme" data-astro-cid-x3pjskd3> <svg class="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-x3pjskd3> <circle cx="12" cy="12" r="5" data-astro-cid-x3pjskd3></circle> <line x1="12" y1="1" x2="12" y2="3" data-astro-cid-x3pjskd3></line> <line x1="12" y1="21" x2="12" y2="23" data-astro-cid-x3pjskd3></line> <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" data-astro-cid-x3pjskd3></line> <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" data-astro-cid-x3pjskd3></line> <line x1="1" y1="12" x2="3" y2="12" data-astro-cid-x3pjskd3></line> <line x1="21" y1="12" x2="23" y2="12" data-astro-cid-x3pjskd3></line> <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" data-astro-cid-x3pjskd3></line> <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" data-astro-cid-x3pjskd3></line> </svg> <svg class="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-astro-cid-x3pjskd3> <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" data-astro-cid-x3pjskd3></path> </svg> </button>  <script>
	// Theme toggle handler
	const handleToggleClick = () => {
		const element = document.documentElement;
		element.classList.toggle("dark");

		const isDark = element.classList.contains("dark");
		localStorage.setItem("theme", isDark ? "dark" : "light");
	};

	document
		.getElementById("theme-toggle")
		.addEventListener("click", handleToggleClick);
</script> </div> </nav> </header>  <script>
	// Robust Mobile Menu Toggle
	document.addEventListener("DOMContentLoaded", () => {
		const menuToggle = document.getElementById("menu-toggle");
		const body = document.body;

		if (menuToggle) {
			menuToggle.addEventListener("click", (e) => {
				e.stopPropagation();
				e.preventDefault(); // Prevent any default button behavior
				body.classList.toggle("show-sidebar");
				console.log(
					"Menu toggled",
					body.classList.contains("show-sidebar"),
				);
			});
		}

		// Close on Outside Click
		document.addEventListener("click", (e) => {
			const sidebar = document.querySelector(".sidebar-container");
			const toggle = document.getElementById("menu-toggle");

			if (body.classList.contains("show-sidebar")) {
				// If click target is NOT in sidebar AND NOT the toggle button
				if (
					sidebar &&
					!sidebar.contains(e.target) &&
					toggle &&
					!toggle.contains(e.target)
				) {
					body.classList.remove("show-sidebar");
				}
			}
		});
	});
</script>  <main class="full-width" data-astro-cid-sckkx6r4>  <div class="blog-page-layout"> <aside class="left-sidebar sidebar-container"> <aside class="sidebar" data-astro-cid-ssfzsv2f> <div class="mobile-header" data-astro-cid-ssfzsv2f> <h2 class="sidebar-title" data-astro-cid-ssfzsv2f><!-- Menu title removed as requested --></h2> <button id="sidebar-close" aria-label="Close Menu" data-astro-cid-ssfzsv2f> âœ• </button> </div> <div class="mobile-toggle" data-astro-cid-ssfzsv2f> <!-- Kept for backward compatibility if needed, but likely redundant now --> <button id="sidebar-toggle" aria-label="Toggle Menu" style="display: none;" data-astro-cid-ssfzsv2f>
â˜° Menu
</button> </div> <div class="sidebar-content" id="sidebar-content" data-astro-cid-ssfzsv2f> <div class="profile-section" data-astro-cid-ssfzsv2f> <div class="avatar-container" data-astro-cid-ssfzsv2f> <img src="https://avatars.githubusercontent.com/u/27840392?v=4" alt="Lucas Sobral" class="avatar" data-astro-cid-ssfzsv2f> </div> <h3 class="profile-name" data-astro-cid-ssfzsv2f>Lucas Sobral</h3> <p class="profile-bio" data-astro-cid-ssfzsv2f>Simplifying technology, one line of code at a time.</p> </div> <!-- Mobile Navigation Links --> <!-- Mobile Only: About Link --> <div class="sidebar-section mobile-only-section" data-astro-cid-ssfzsv2f> <h3 data-astro-cid-ssfzsv2f> <a href="/about" class="sidebar-link" data-astro-cid-ssfzsv2f>About</a> </h3> </div> <!-- Categories: Desktop Only --> <div class="sidebar-section categories-section" data-astro-cid-ssfzsv2f> <h3 data-astro-cid-ssfzsv2f> <a href="/categories" class="sidebar-link" data-astro-cid-ssfzsv2f>Categories</a> </h3> </div> <!-- Archives: Desktop Only --> <div class="sidebar-section archives-section" data-astro-cid-ssfzsv2f> <h3 data-astro-cid-ssfzsv2f> <a href="/archives" class="sidebar-link" data-astro-cid-ssfzsv2f>Archives</a> </h3> </div> <div class="sidebar-section tags-section" data-astro-cid-ssfzsv2f> <h3 data-astro-cid-ssfzsv2f> <a href="/tags" class="sidebar-link" data-astro-cid-ssfzsv2f>Tags</a> </h3> </div> </div>  <script>
        document.addEventListener("DOMContentLoaded", () => {
            const closeBtn = document.getElementById("sidebar-close");
            closeBtn?.addEventListener("click", () => {
                document.body.classList.remove("show-sidebar");
            });
        });
    </script> </aside> </aside> <article class="fade-in main-content"> <div class="hero-image"> <img width="1020" height="510" src="/assets/posts/2025-02-25/aws.png" alt=""> </div> <div class="prose"> <div class="title"> <div class="date"> <time datetime="2025-02-24T16:00:00.000Z">Feb 24, 2025</time> <span class="date-separator">â€¢</span>  <div class="view-count"> <span class="view-counter" data-astro-cid-e75zxctz> <span id="pageviews" data-astro-cid-e75zxctz> <span class="loading" data-astro-cid-e75zxctz>...</span> </span>
views
</span> <script type="module">document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("pageviews");if(n!==null){const t=location.pathname.replace(/\/$/,""),o=`https://lucasbral.goatcounter.com/counter/${encodeURIComponent(t)}.json`;fetch(o).then(e=>e.json()).then(e=>{const c=e.count.replace(/\D/g,"");n.innerText=new Intl.NumberFormat().format(c)}).catch(e=>{console.error("Error fetching page views:",e),n.innerText="0"})}});</script>  </div> </div> <h1>Creating A Small Data Pipeline Using Dynamodb And Lambda Functions On Aws</h1> <hr> </div>  <h2 id="introduction">Introduction</h2>
<p>In This Project We Will Create A Small Pipeline Inside The Aws Enviroment Using The Free Tier For Practicing Aws Tools.</p>
<h2 id="-project-overview">ðŸš€ Project Overview</h2>
<ul>
<li><strong>Data Ingestion</strong>: An <strong>API Gateway</strong> triggers a <strong>Lambda function</strong> to insert data into <strong>DynamoDB</strong>.</li>
<li><strong>Data Processing</strong>: The function processes the data from an <strong>HTTP request</strong>.</li>
<li><strong>Scheduled Tasks</strong>: An <strong>EventBridge rule</strong> triggers a <strong>Lambda function</strong> on a schedule (every day) to perform ]:
<ul>
<li>Data processing</li>
</ul>
</li>
<li><strong>Monitoring</strong>: Use <strong>CloudWatch</strong> to monitor logs and set up basic alarms for:
<ul>
<li>Failures</li>
<li>Performance issues</li>
</ul>
</li>
</ul>
<h2 id="1---dynamodb">1 - DynamoDB</h2>
<p>First, we will create a new DynamoDB table within the AWS Management Console.
Amazon <strong>DynamoDB</strong> is a fully managed <strong>NoSQL database service</strong> offered by AWS, designed for <strong>high-performance, low-latency applications</strong>. It provides <strong>seamless scalability</strong>, allowing you to handle large amounts of data with <strong>consistent single-digit millisecond response times</strong>.</p>
<ul>
<li>Supports both <strong>key-value</strong> and <strong>document</strong> data structures, making it flexible for various use cases.</li>
<li>Offers features like:
<ul>
<li><strong>Automatic scaling</strong></li>
<li><strong>Backup and restore</strong></li>
<li><strong>DynamoDB Streams</strong> for real-time data processing</li>
</ul>
</li>
<li>Being <strong>serverless</strong>, it eliminates the need for manual infrastructure management.</li>
<li>Ensures <strong>high availability and security</strong> by default.</li>
</ul>
<h3 id="11-acessing-dynamodb-in-aws-console">1.1 Acessing DynamoDB in AWS Console</h3>
<p>In the search bar, type <code>DynamoDB</code> and select it from the results.</p>
<p><img src="/assets/posts/2025-02-25/1.png" alt="desktop View">
<em>Amazon Console UI</em></p>
<p>In the DynamoDB page, select <code>Tables</code> from the navigation panel on the left and <code>Create Table</code> select id as hash , this is going to be our target vairable and we will set it as a number.</p>
<p><img src="/assets/posts/2025-02-25/2.png" alt="desktop View">
<em>Tables from DynamoDB</em></p>
<p><img src="/assets/posts/2025-02-25/3.png" alt="desktop View">
<em>Create Table from DynamoDB</em></p>
<h3 id="12-configuring-your-dynamodb-table">1.2 Configuring Your DynamoDB Table</h3>
<p>Here, we will provide all the necessary information for our <strong>DynamoDB table</strong>.</p>
<ul>
<li>In <strong>Table name</strong>, enter the name for your table (<strong>ensure it follows AWS naming conventions</strong>).</li>
<li>In <strong>Partition key</strong>, define the unique data attribute that will be used.
<ul>
<li>In this case, itâ€™s the <strong>ID</strong>, configured as a <strong>number</strong>.</li>
</ul>
</li>
<li>For <strong>Table settings</strong>, leave the <strong>default options</strong> as they are.</li>
<li>Then, select <strong>Create table</strong>.</li>
</ul>
<p>After that, we will be able to see our new table in the UI:</p>
<p><img src="/assets/posts/2025-02-25/4.png" alt="desktop View">
<em>Table Created in DynamoDB</em></p>
<h2 id="2---lambda-function">2 - Lambda Function</h2>
<p>Now, we will create our Lambda function, which will be responsible for accessing the <code>API</code> and retrieving <code>JSON</code> data with the desired resources.</p>
<h3 id="21-api-overview">2.1 API Overview</h3>
<p>The API we will be using is available at <a href="https://ygoprodeck.com/api-guide/">Yu-Gi-Oh! API Guide</a>. This API returns all <strong>Yu-Gi-Oh! cards</strong> available at the time of the request.</p>
<ul>
<li>
<p>The <strong>Card Information</strong> endpoint is available at:<br>
<a href="https://db.ygoprodeck.com/api/v7/cardinfo.php">https://db.ygoprodeck.com/api/v7/cardinfo.php</a></p>
</li>
<li>
<p>It will return data in the following format:</p>
</li>
</ul>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="json"><code><span class="line"><span style="color:#E1E4E8">{</span></span>
<span class="line"><span style="color:#79B8FF">  "data"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#E1E4E8">    {</span></span>
<span class="line"><span style="color:#79B8FF">      "id"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">6983839</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "name"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"Tornado Dragon"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "type"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"XYZ Monster"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "frameType"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"xyz"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "desc"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"2 Level 4 monsters</span><span style="color:#79B8FF">\n</span><span style="color:#9ECBFF">Once per turn (Quick Effect): You can detach 1 material from this card, then target 1 Spell/Trap on the field; destroy it."</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "atk"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">2100</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "def"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">2000</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "level"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">4</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "race"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"Wyrm"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "attribute"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"WIND"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">      "card_sets"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#E1E4E8">        {</span></span>
<span class="line"><span style="color:#79B8FF">          "set_name"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"Battles of Legend: Relentless Revenge"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_code"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"BLRR-EN084"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_rarity"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"Secret Rare"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_rarity_code"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"(ScR)"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_price"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"4.08"</span></span>
<span class="line"><span style="color:#E1E4E8">        },</span></span>
<span class="line"><span style="color:#E1E4E8">        {</span></span>
<span class="line"><span style="color:#79B8FF">          "set_name"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"Duel Devastator"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_code"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"DUDE-EN019"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_rarity"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"Ultra Rare"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_rarity_code"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"(UR)"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_price"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"1.4"</span></span>
<span class="line"><span style="color:#E1E4E8">        },</span></span>
<span class="line"><span style="color:#E1E4E8">        {</span></span>
<span class="line"><span style="color:#79B8FF">          "set_name"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"Maximum Crisis"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_code"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"MACR-EN081"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_rarity"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"Secret Rare"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_rarity_code"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"(ScR)"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "set_price"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"4.32"</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">      ],</span></span>
<span class="line"><span style="color:#79B8FF">      "card_images"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#E1E4E8">        {</span></span>
<span class="line"><span style="color:#79B8FF">          "id"</span><span style="color:#E1E4E8">: </span><span style="color:#79B8FF">6983839</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "image_url"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"https://images.ygoprodeck.com/images/cards/6983839.jpg"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "image_url_small"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"https://images.ygoprodeck.com/images/cards_small/6983839.jpg"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "image_url_cropped"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"https://images.ygoprodeck.com/images/cards_cropped/6983839.jpg"</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">      ],</span></span>
<span class="line"><span style="color:#79B8FF">      "card_prices"</span><span style="color:#E1E4E8">: [</span></span>
<span class="line"><span style="color:#E1E4E8">        {</span></span>
<span class="line"><span style="color:#79B8FF">          "cardmarket_price"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"0.42"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "tcgplayer_price"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"0.48"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "ebay_price"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"2.99"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "amazon_price"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"0.77"</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#79B8FF">          "coolstuffinc_price"</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">"0.99"</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">      ]</span></span>
<span class="line"><span style="color:#E1E4E8">    }</span></span>
<span class="line"><span style="color:#E1E4E8">  ]</span></span>
<span class="line"><span style="color:#E1E4E8">}</span></span></code></pre>
<p>This data will be returned for all available Yu-Gi-Oh! cards.</p>
<h3 id="22-creating-lambda-function">2.2 Creating Lambda Function</h3>
<p>Now, we need to create the <code>Lambda function</code> responsible for making the <code>API request</code> and saving the data in <code>DynamoDB</code>.</p>
<p>To do this:</p>
<ul>
<li>Go to the <code>AWS Management Console</code>.</li>
<li>Type <code>Lambda</code> in the search bar.</li>
<li>Select <code>Lambda</code> from the results.</li>
<li>Select Create A Function</li>
</ul>
<p><img src="/assets/posts/2025-02-25/5.png" alt="desktop View">
<em>Create Lambda Function</em></p>
<h3 id="22-define-the-lambda-function">2.2 Define the Lambda Function</h3>
<ul>
<li><strong>Author from Scratch</strong>: Choose <strong>Author from Scratch</strong> to create a new Lambda function.</li>
<li><strong>Function Name</strong>: Define a name for your function (e.g., <code>FetchYuGiOhCards</code>).</li>
<li><strong>Runtime</strong>: Select <strong>Python 3.13</strong> as the runtime.</li>
<li><strong>Architecture</strong>: Choose <strong>ARM64</strong> architecture (this is more cost-effective compared to <code>x86_64</code>).</li>
<li><strong>Execution Role</strong>:
<ul>
<li>Collapse the <strong>default execution role</strong> section.</li>
<li>Select <strong>Create a new role from AWS policy templates</strong>.</li>
</ul>
</li>
<li><strong>Role Name &#x26; Policy Templates</strong>:
<ul>
<li>Define a name for the role (e.g., <code>LambdaDynamoDBRole</code>).</li>
<li>In the <strong>Policy templates</strong> section, choose templates related to <strong>DynamoDB</strong> (e.g., <code>AmazonDynamoDBFullAccess</code>).</li>
<li>Select create function</li>
</ul>
</li>
</ul>
<blockquote>
<ul>
<li>Depending on the processing time, you may need to increase the <code>timeout</code> and <code>memory</code> settings for your function. In my case, I set the <code>timeout</code> to 15 minutes** and <code>memory</code> to 500MB.  Be cautious, as increasing these settings <strong>can lead to higher costs</strong>.
{: .prompt-tip }</li>
</ul>
</blockquote>
<p><img src="/assets/posts/2025-02-25/6.png" alt="desktop View">
<em>Lambda Function Settings</em></p>
<h3 id="23-definig-python-code">2.3 Definig Python Code</h3>
<p>Now, we need to define the Python code required to run our program.
You can either use the AWS Management Consoleâ€™s built-in editor or upload your code from a local device.
In this case, we will use the requests library in Python, which is not included by default in AWS Lambda. Therefore, we need to import it manually.
So, we will create a new directory on my Linux Mint machine to begin the development process (or other device).</p>
<p>In this directory, we will create a file named <code>lambda_function.py</code>, which will contain our Python code for the Lambda function.
Since the <strong>requests</strong> library is not available by default in AWS Lambda, we need to install it manually. Open a terminal in your project directory and run the following command:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="bash"><code><span class="line"><span style="color:#B392F0">pip</span><span style="color:#9ECBFF"> install</span><span style="color:#9ECBFF"> requests</span><span style="color:#79B8FF"> -t</span><span style="color:#9ECBFF"> .</span></span></code></pre>
<ul>
<li>This installs the requests library</li>
<li>-t .: Specifies the target directory (. means the current directory from your project).</li>
</ul>
<blockquote>
<ul>
<li>This is commonly used for AWS Lambda deployments, where you need to package dependencies in the same directory as your Lambda function before uploading it as a ZIP file.
{: .prompt-tip }</li>
</ul>
</blockquote>
<p>Now, your project directory should look something like this:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="text"><code><span class="line"><span>/my-lambda-project</span></span>
<span class="line"><span>â”‚</span></span>
<span class="line"><span>â”œâ”€â”€ lambda_function.py</span></span>
<span class="line"><span>â”œâ”€â”€ requests/</span></span>
<span class="line"><span>â”œâ”€â”€ requests-*.dist-info/</span></span>
<span class="line"><span>â”œâ”€â”€ urllib3/</span></span>
<span class="line"><span>â””â”€â”€ ...</span></span></code></pre>
<h3 id="24-setting-the-python-function">2.4 Setting the Python Function</h3>
<p>Our Python code will primarily use three libraries:</p>
<ul>
<li><strong>requests</strong> â€“ Handles HTTP requests.</li>
<li><strong>boto3</strong> â€“ Manages AWS infrastructure.</li>
<li><strong>json</strong> â€“ Processes JSON data.</li>
</ul>
<p>The Python code is provided below:</p>
<pre class="astro-code github-dark" style="background-color:#24292e;color:#e1e4e8; overflow-x: auto;" tabindex="0" data-language="python"><code><span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> json</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> boto3</span></span>
<span class="line"><span style="color:#F97583">import</span><span style="color:#E1E4E8"> requests</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D"># Initializes the DynamoDB client</span></span>
<span class="line"><span style="color:#E1E4E8">dynamodb </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> boto3.resource(</span><span style="color:#9ECBFF">'dynamodb'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"><span style="color:#E1E4E8">table </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> dynamodb.Table(</span><span style="color:#9ECBFF">'yugioh_cards_db'</span><span style="color:#E1E4E8">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583">def</span><span style="color:#B392F0"> lambda_handler</span><span style="color:#E1E4E8">(event, context):</span></span>
<span class="line"><span style="color:#6A737D">    # URL for the JSON API</span></span>
<span class="line"><span style="color:#E1E4E8">    url </span><span style="color:#F97583">=</span><span style="color:#9ECBFF"> "https://db.ygoprodeck.com/api/v7/cardinfo.php?misc=yes"</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#6A737D">    # Make the request to fetch the data from the API</span></span>
<span class="line"><span style="color:#F97583">    try</span><span style="color:#E1E4E8">:</span></span>
<span class="line"><span style="color:#E1E4E8">        response </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> requests.get(url)  </span><span style="color:#6A737D"># Send GET request to the URL</span></span>
<span class="line"><span style="color:#E1E4E8">        response.raise_for_status()  </span><span style="color:#6A737D"># Check if the request was successful (status code 200)</span></span>
<span class="line"><span style="color:#E1E4E8">        data </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> response.json()  </span><span style="color:#6A737D"># Parse the JSON response</span></span>
<span class="line"><span style="color:#E1E4E8">        </span></span>
<span class="line"><span style="color:#6A737D">        # Write data to DynamoDB using batch_writer for efficiency</span></span>
<span class="line"><span style="color:#F97583">        with</span><span style="color:#E1E4E8"> table.batch_writer() </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> batch:</span></span>
<span class="line"><span style="color:#F97583">            for</span><span style="color:#E1E4E8"> card </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> data[</span><span style="color:#9ECBFF">'data'</span><span style="color:#E1E4E8">]:  </span><span style="color:#6A737D"># Loop through each card in the response</span></span>
<span class="line"><span style="color:#6A737D">                # Convert dictionary or list values to strings to avoid issues with DynamoDB storage</span></span>
<span class="line"><span style="color:#E1E4E8">                item </span><span style="color:#F97583">=</span><span style="color:#E1E4E8"> {key: </span><span style="color:#79B8FF">str</span><span style="color:#E1E4E8">(value) </span><span style="color:#F97583">if</span><span style="color:#79B8FF"> isinstance</span><span style="color:#E1E4E8">(value, (</span><span style="color:#79B8FF">dict</span><span style="color:#E1E4E8">, </span><span style="color:#79B8FF">list</span><span style="color:#E1E4E8">)) </span><span style="color:#F97583">else</span><span style="color:#E1E4E8"> value </span><span style="color:#F97583">for</span><span style="color:#E1E4E8"> key, value </span><span style="color:#F97583">in</span><span style="color:#E1E4E8"> card.items()}</span></span>
<span class="line"><span style="color:#E1E4E8">                batch.put_item(</span><span style="color:#FFAB70">Item</span><span style="color:#F97583">=</span><span style="color:#E1E4E8">item)  </span><span style="color:#6A737D"># Put each card as an item in the DynamoDB table</span></span>
<span class="line"><span style="color:#E1E4E8">            </span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">            'statusCode'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'ok'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">            'body'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'success!'</span><span style="color:#6A737D">  # Return success message</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"></span>
<span class="line"><span style="color:#6A737D">    # Handle any request-related errors</span></span>
<span class="line"><span style="color:#F97583">    except</span><span style="color:#E1E4E8"> requests.exceptions.RequestException </span><span style="color:#F97583">as</span><span style="color:#E1E4E8"> e:</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">            'statusCode'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'error'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">            'body'</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Error fetching data from API: </span><span style="color:#79B8FF">{str</span><span style="color:#E1E4E8">(e)</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#6A737D">  # Return error message</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"><span style="color:#E1E4E8">    </span></span>
<span class="line"><span style="color:#6A737D">    # Handle any other general errors (e.g., DynamoDB write issues)</span></span>
<span class="line"><span style="color:#F97583">    except</span><span style="color:#79B8FF"> Exception</span><span style="color:#F97583"> as</span><span style="color:#E1E4E8"> e:</span></span>
<span class="line"><span style="color:#F97583">        return</span><span style="color:#E1E4E8"> {</span></span>
<span class="line"><span style="color:#9ECBFF">            'statusCode'</span><span style="color:#E1E4E8">: </span><span style="color:#9ECBFF">'error'</span><span style="color:#E1E4E8">,</span></span>
<span class="line"><span style="color:#9ECBFF">            'body'</span><span style="color:#E1E4E8">: </span><span style="color:#F97583">f</span><span style="color:#9ECBFF">'Error writing to DynamoDB: </span><span style="color:#79B8FF">{str</span><span style="color:#E1E4E8">(e)</span><span style="color:#79B8FF">}</span><span style="color:#9ECBFF">'</span><span style="color:#6A737D">  # Return error message</span></span>
<span class="line"><span style="color:#E1E4E8">        }</span></span>
<span class="line"></span></code></pre>
<blockquote>
<ul>
<li>We use <code>table.batch_writer()</code> to optimize writes to DynamoDB by reducing the number of requests. However, make sure your IAM role has the necessary permissions; otherwise, the operation will fail with an error.<br>
{: .prompt-danger }</li>
</ul>
</blockquote>
<p>Now, zip all the folders and upload the archive to the AWS Lambda console.</p>
<p><img src="/assets/posts/2025-02-25/9.png" alt="desktop View">
<em>Lambda Function Defined</em></p>
<p>Select <code>Deploy</code> and Then <code>Test</code></p>
<h4 id="25-testing-code">2.5 Testing Code</h4>
<p>In the test menu Create any test and execute it.</p>
<p><img src="/assets/posts/2025-02-25/10.png" alt="desktop View">
<em>Lambda Function Test Return</em></p>
<p>Our code is working! ðŸŽ‰ Now, you can view the data in the DynamoDB console.</p>
<p>In the search bar, type <code>DynamoDB</code> and select it from the results.</p>
<p>In the DynamoDB page, select <code>Explore Itens</code> and then your table.</p>
<p>You should see something like:</p>
<p><img src="/assets/posts/2025-02-25/11.png" alt="desktop View">
<em>DynamoDB table With Data</em></p>
<p>As you can see, this is the information for Yu-Gi-Oh! cardsâ€”listing all available cards from the API.</p>
<h2 id="3---eventbridge">3 - EventBridge</h2>
<p>Now that our pipeline is working, we need to set up scheduling to run every day at 10 AM. To achieve this, we will use <strong>EventBridge</strong>.<br>
Return to the Lambda Console and in you function select <strong>Add trigger</strong></p>
<p><img src="/assets/posts/2025-02-25/12.png" alt="desktop View">
<em>Lambda Function Add trigger</em></p>
<p>To configure the trigger, follow these steps:</p>
<ul>
<li>Select <strong>EventBridge (CloudWatch Events)</strong>.</li>
<li>Choose <strong>Create a new role</strong>.</li>
<li>Set the <strong>Rule Name</strong> to <code>run_every_day</code>.</li>
<li>For <strong>Rule Type</strong>, select <strong>Schedule Expression</strong>.</li>
<li>In <strong>Schedule Expression</strong>, enter: <code>cron(0 10 * * ? *)</code>.</li>
</ul>
<p><img src="/assets/posts/2025-02-25/13.png" alt="desktop View">
<em>Lambda Function Add trigger Settings</em></p>
<p>Select <code>add</code></p>
<p>Finally, our project is fully configured to run <strong>automatically every day at 10 AM</strong>, updating the <strong>DynamoDB database</strong> with the latest <strong>Yu-Gi-Oh! cards</strong> from the API. ðŸš€</p>
<p><img src="/assets/posts/2025-02-25/14.png" alt="desktop View">
<em>Pipeline With All Steps</em></p>
<h2 id="conclusions">Conclusions</h2>
<p>We successfully built a fully functional <strong>AWS Lambda pipeline</strong> that fetches <strong>Yu-Gi-Oh! card data</strong> from an API and stores it in <strong>DynamoDB</strong>.</p>
<h3 id="summary-of-what-we-accomplished">Summary of What We Accomplished:</h3>
<ul>
<li><strong>Set up a Lambda function</strong> to request data from the API and write it to DynamoDB.</li>
<li><strong>Configured IAM roles and permissions</strong> to ensure proper access.</li>
<li><strong>Optimized database writes</strong> using <code>batch_writer()</code>.</li>
<li><strong>Verified data storage</strong> by checking the DynamoDB console.</li>
<li><strong>Automated execution</strong> using <strong>EventBridge</strong> to run the function daily at <strong>10 AM UTC</strong>.</li>
</ul>
<p>With this setup, our pipeline ensures that our DynamoDB table stays updated with the latest card data every day. ðŸš€</p>  </div> </article> <!-- Right Sidebar (Desktop Only) --> <aside class="right-sidebar-container"> <aside class="right-sidebar" data-astro-cid-zujyv34g> <div class="sidebar-section" data-astro-cid-zujyv34g> <h3 data-astro-cid-zujyv34g>Recently Updated</h3> <ul class="recent-list" data-astro-cid-zujyv34g> <li data-astro-cid-zujyv34g> <a href="/blog/2025-06-27/2025-06-27-streamlit-duckdb/" class="recent-link" data-astro-cid-zujyv34g> <span class="recent-title" data-astro-cid-zujyv34g>Building a High-Performance and Interactive Data Application with Streamlit and DuckDB</span> <span class="recent-date" data-astro-cid-zujyv34g> <time datetime="2025-06-26T16:00:00.000Z">Jun 26, 2025</time> </span> </a> </li><li data-astro-cid-zujyv34g> <a href="/blog/2025-02-25/2025-02-25-aws-pipeline/" class="recent-link" data-astro-cid-zujyv34g> <span class="recent-title" data-astro-cid-zujyv34g>Creating A Small Data Pipeline Using Dynamodb And Lambda Functions On Aws</span> <span class="recent-date" data-astro-cid-zujyv34g> <time datetime="2025-02-24T16:00:00.000Z">Feb 24, 2025</time> </span> </a> </li><li data-astro-cid-zujyv34g> <a href="/blog/2024-11-29/2024-11-29-spotify/" class="recent-link" data-astro-cid-zujyv34g> <span class="recent-title" data-astro-cid-zujyv34g>Obtaining the Most Listened Tracks on Spotify with Apache Airflow</span> <span class="recent-date" data-astro-cid-zujyv34g> <time datetime="2024-11-28T16:00:00.000Z">Nov 28, 2024</time> </span> </a> </li><li data-astro-cid-zujyv34g> <a href="/blog/2024-11-11/2024-11-11-airflow/" class="recent-link" data-astro-cid-zujyv34g> <span class="recent-title" data-astro-cid-zujyv34g>Apache Airflow Using Docker</span> <span class="recent-date" data-astro-cid-zujyv34g> <time datetime="2024-11-11T06:10:00.000Z">Nov 11, 2024</time> </span> </a> </li><li data-astro-cid-zujyv34g> <a href="/blog/2024-11-03/2024-11-03-fut-scrap/" class="recent-link" data-astro-cid-zujyv34g> <span class="recent-title" data-astro-cid-zujyv34g>Scrapping football data from optaplayerstats.statsperform.com</span> <span class="recent-date" data-astro-cid-zujyv34g> <time datetime="2024-11-03T06:10:00.000Z">Nov 3, 2024</time> </span> </a> </li> </ul> </div> <div class="sidebar-section" data-astro-cid-zujyv34g> <h3 data-astro-cid-zujyv34g>Trending Tags</h3> <div class="tag-cloud" data-astro-cid-zujyv34g> <a href="/tags/airflow/" class="tag-item" data-astro-cid-zujyv34g> Airflow </a><a href="/tags/streamlit/" class="tag-item" data-astro-cid-zujyv34g> Streamlit </a><a href="/tags/duckdb/" class="tag-item" data-astro-cid-zujyv34g> Duckdb </a><a href="/tags/aws/" class="tag-item" data-astro-cid-zujyv34g> AWS </a><a href="/tags/spotify/" class="tag-item" data-astro-cid-zujyv34g> Spotify </a><a href="/tags/selenium/" class="tag-item" data-astro-cid-zujyv34g> Selenium </a><a href="/tags/beautifulsoup4/" class="tag-item" data-astro-cid-zujyv34g> Beautifulsoup4 </a> </div> </div> </aside>  </aside> </div>  </main> <footer data-astro-cid-sz7xmlte>
&copy; 2026 Lucas Sobral. All rights reserved.
<p class="social-links" data-astro-cid-sz7xmlte> <a href="https://github.com/lucasbral" target="_blank" data-astro-cid-sz7xmlte>GitHub</a> <a href="https://www.linkedin.com/in/lucasbral" target="_blank" data-astro-cid-sz7xmlte>LinkedIn</a> </p> </footer>  </body></html> 